<h3> Gnarnia's Beats </h3>


<a ui-sref='beats.addBeat'>
  <button class='btn btn-success'>New Beat </button>
</a>
</br>
<form class='form-inline' role='form'>
  <label for='search'>Search Beats</label>
  <input type='text' ng-model='search' placeholder="Beat Name">
</form>

<div>
  <div ui-view></div>
</div>

<ul class="list-unstyled" >
  <li ng-repeat='item in BeatsFactory.beats | filter:matchName(search)'>
    <div class='well beat-well'>
      <div class='col-md-4'>
        <h5> {{ item.name }} </h5>
      </div>
      <div class="col-md-6">
        <h5>Reporters on the Beat:</h5>
        <ul class="list-unstyled"> 
          <li class='col-sm-3' ng-repeat='reporter in item.reporters'>
            <a ui-sref='beats.reporter({ reporterId: reporter.id})'>{{ reporter.name }} </a>
          </li>
        </ul>
      </div>
      <div class='col-md-2'>
        <h5> Add Reporter to beat: </h5>
        <form ng-submit="item.addReporterbyId(reporter)">
          <select ng-model='reporter'>
            <option ng-repeat='reporter in ReportersFactory.reporters' value="{{reporter.id}}">  {{reporter.name}}
            </option>
          </select>
          <button type='submit' class='btn btn-small btn-default'>Add </button>
        </form>
      </div>
    </div>
  </li>
</ul>
